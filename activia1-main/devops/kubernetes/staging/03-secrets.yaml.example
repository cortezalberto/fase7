# ============================================================================
# AI-Native MVP - Secrets Example
# ============================================================================
# IMPORTANT: This is an EXAMPLE file. DO NOT commit actual secrets to Git!
#
# WARNING: The placeholder values below will be REJECTED by deploy.sh
#          You MUST generate real secrets before deploying.
# ============================================================================
#
# RECOMMENDED: Create secrets using kubectl (more secure):
#
#   # Generate secure random secrets
#   JWT_SECRET=$(python -c "import secrets; print(secrets.token_urlsafe(32))")
#   SECRET_KEY=$(python -c "import secrets; print(secrets.token_urlsafe(32))")
#   POSTGRES_PASSWORD=$(python -c "import secrets; print(secrets.token_urlsafe(16))")
#   REDIS_PASSWORD=$(python -c "import secrets; print(secrets.token_urlsafe(16))")
#
#   # Create the secret
#   kubectl create secret generic ai-native-secrets \
#     --namespace=ai-native-staging \
#     --from-literal=JWT_SECRET_KEY="$JWT_SECRET" \
#     --from-literal=SECRET_KEY="$SECRET_KEY" \
#     --from-literal=DATABASE_URL="postgresql://ai_native:$POSTGRES_PASSWORD@ai-native-postgresql:5432/ai_native" \
#     --from-literal=POSTGRES_PASSWORD="$POSTGRES_PASSWORD" \
#     --from-literal=REDIS_PASSWORD="$REDIS_PASSWORD" \
#     --from-literal=OPENAI_API_KEY="${OPENAI_API_KEY:-}" \
#     --from-literal=GEMINI_API_KEY="${GEMINI_API_KEY:-}"
#
# ALTERNATIVE: Using this file (less secure, not recommended):
#
#   1. Copy this file: cp 03-secrets.yaml.example 03-secrets.yaml
#   2. Replace ALL placeholder values with real secrets
#   3. Apply: kubectl apply -f 03-secrets.yaml
#   4. DELETE the file immediately: rm 03-secrets.yaml
#   5. NEVER commit 03-secrets.yaml to Git!
#
# ============================================================================

apiVersion: v1
kind: Secret
metadata:
  name: ai-native-secrets
  namespace: ai-native-staging
  labels:
    app: ai-native
    environment: staging
type: Opaque
stringData:
  # =========================================================================
  # REQUIRED SECRETS - Must be replaced before deploying!
  # =========================================================================

  # JWT Secret Key (minimum 32 characters)
  # Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
  JWT_SECRET_KEY: "CHANGE_ME_GENERATE_WITH_SECRETS_TOKEN_URLSAFE_32"

  # Application Secret Key (minimum 32 characters)
  # Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
  SECRET_KEY: "CHANGE_ME_GENERATE_WITH_SECRETS_TOKEN_URLSAFE_32"

  # PostgreSQL Password (minimum 16 characters)
  # Generate with: python -c "import secrets; print(secrets.token_urlsafe(16))"
  POSTGRES_PASSWORD: "CHANGE_ME_GENERATE_WITH_SECRETS_TOKEN_URLSAFE_16"

  # Database URL (update password to match POSTGRES_PASSWORD)
  DATABASE_URL: "postgresql://ai_native:CHANGE_ME@ai-native-postgresql:5432/ai_native"

  # Redis Password (minimum 16 characters)
  # Generate with: python -c "import secrets; print(secrets.token_urlsafe(16))"
  REDIS_PASSWORD: "CHANGE_ME_GENERATE_WITH_SECRETS_TOKEN_URLSAFE_16"

  # =========================================================================
  # OPTIONAL SECRETS - Leave empty if not using
  # =========================================================================

  # OpenAI API Key (if using LLM_PROVIDER=openai)
  OPENAI_API_KEY: ""

  # Google Gemini API Key (if using LLM_PROVIDER=gemini)
  GEMINI_API_KEY: ""

  # Mistral API Key (if using LLM_PROVIDER=mistral)
  MISTRAL_API_KEY: ""

# ============================================================================
# SECURITY CHECKLIST
# ============================================================================
# Before deploying, verify:
# [ ] All CHANGE_ME values have been replaced
# [ ] JWT_SECRET_KEY is at least 32 characters
# [ ] SECRET_KEY is at least 32 characters
# [ ] POSTGRES_PASSWORD is at least 16 characters
# [ ] REDIS_PASSWORD is at least 16 characters
# [ ] DATABASE_URL contains the correct POSTGRES_PASSWORD
# [ ] This file will NOT be committed to Git
# [ ] .gitignore includes 03-secrets.yaml (not .example)
# ============================================================================
